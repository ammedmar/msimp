% !TEX root = ../msimp.tex

\subsection{Recognition of configuration spaces}\label{ss:recognition}

Let $\conf{r}{d}$ denote the configuration space of $r$-tuples of pairwise disjoint vectors in $\R^{d}$.
This space is equipped with a free action of the symmetric group $\sym_r$ of permutations of $\{1,\dots,r\}$ swapping elements of a $r$-tuple.

\begin{definition}
	A \textit{complete graph} on $r$ vertices is a pair $(\mu,\sigma)$ with $\mu$ a collection of non-negative integers $\mu_{ij}$ for all $1 \leq i < j \leq r$, and $\sigma$ is an ordering of $\{1,\dots,r\}$.
	We write $\sigma_{ij}$ for the restriction of the ordering $\sigma$ to the set $\{i,j\}$.
	Graphically $(\mu,\sigma)$ is a simple directed graph in the edge corresponding to $i<j$ directed according to $\sigma_{ij}$ and labeled by $\mu_{ij}$.
	Please consult \cref{f:complete graph} for an example.
	Let us denote the set of complete graphs with $r$ vertices by $\CG(r)$ equipped with the poset structure
	\begin{equation*}
		(\mu,\sigma)\le (\nu,\tau) \ \ \text{ if and only if } \ \
		(\mu_{ij}<\nu_{ij}) \ \ \text{ or } \ \
		(\mu_{ij},\sigma_{ij})= (\nu_{ij},\tau_{ij})
	\end{equation*}
	for each pair $i<j$.
	It is equipped with a filtration by subposets
	\[
	\CG_1(r) \subset \CG_2(r) \subset \dotsb
	\]
	where $\CG_n(r)$ consists of those graphs with $\max(\mu_{ij})< n$.
\end{definition}

\begin{figure}
	\centering
	\begin{equation*}
		\begin{tikzcd}
			\ & 2 & \ \\
			1 \arrow[ur,"2"] \arrow[rr] \arrow[dr,"3"']& \arrow[r,"1"] \arrow[u,"2"] & 3 \arrow[ul,"1"'] \\
			\ & 4 \arrow[ur,"4"'] \arrow[uu] & \
		\end{tikzcd}
	\end{equation*}
	\caption{A complete graph on 4 vertices with ordering $\sigma=(1432)$ and $\mu=(\mu_{12},\mu_{13},\mu_{14},\mu_{23},\mu_{24},\mu_{34})=(2,1,3,1,2,4)$.}
	\label{f:complete graph}
\end{figure}

\begin{definition}
	For a given poset $A$, a cellular $A$-decomposition of a topological space $\fX$ is a family of subspaces $\set{\fX_a}_A$ such that:
	\begin{itemize}
		\item $a \leq b$ implies $\fX_a \subseteq \fX_b$;
		\item $\colim_{a \in A} \fX_a = \fX$;
		\item $\fX_a$ is contractible for each $a$;
		\item $\bigcup_{a<b} \fX_a \subset \fX_b$ is a closed cofibration.
	\end{itemize}
\end{definition}

The relevance of this notion is the following well known fact, a proof of which can be found in \cite[\S1.7]{berger1997confspacemodel}.

\begin{proposition}\label{p:cellular poset decomposition}
	If a topological space $\fX$ admits a \textit{cellular $A$-decomposition}, then the natural map
	\[
	\fX = \colim_A \fX_a \to \hocolim_A \fX_a \to \bars{A}
	\]
	is a cellular homotopy equivalence.
\end{proposition}

The case of interest for us is the following.

\begin{proposition}[{\cite[\S1.13]{berger1997confspacemodel}}]\label{p:berger}
	If a space has a cellular $\CG_d(r)$-decomposition then it is homotopy equivalent to
	the configuration space $\conf{r}{d}$.
\end{proposition}

We warn the reader that configuration spaces themselves do not admit a cellular decomposition with respect to graph complete posets, but they do so with respect to some extended versions of these posets \cite{beuckelmann2021master}\todo{I do not find a URL or DOI for this. It would be good if provided.}, whose geometric realization retains the same homotopy type.\todo{@andrea,@paolo: In what direction does the map go? This is important to get the zig-zag below correctly.}
We therefore have an explicit homotopy equivalence
\begin{equation}\label{eq:extended complete graph map}
	\conf{r}{d} \to \bars{\CG_d(r)} \leftarrow \fX
\end{equation}
for any $\fX$ with a cellular $\CG_d(r)$-decomposition.

\begin{definition}
	Let $X$ be a multisimplicial (or simplicial) set.
	A $\CG(r)$-filtration
	\[
	X_1 \subset X_2 \subset \dotsb
	\]
	of $X$ is a filtration equipped with compatible cellular $\CG(r)$-decompositions of $\bars{X_d}$ for each $d \in \N$.
	We will refer to $\min\set{d \mid x \in X_n}$ as the complexity of $x$.
\end{definition}