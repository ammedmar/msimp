% !TEX root = ../msimplicial.tex

\section{Multisimplicial algebraic topology}

\subsection{Multisimplicial sets}

Let us consider an arbitrary non-negative integer~$k$.
The \textit{$k$-fold multisimplex category} $\simplex^{\times k}$ is the $k$-fold Cartesian product of the simplex category $\simplex$, with the convention that for $k = 0$ this is the trivial category.
The category of \textit{multisimplicial sets} is the coproduct
\[
\mSet = \coprod_{k \in \N} \mSet^{(k)}
\]
where $\mSet^{(k)}$ denotes the category of presheaves $\Fun \big( (\simplex^{\times k})^\op, \Set \big)$, whose objects are referred to as \textit{$k$-fold multisimplicial sets}.
The categories $\mSet^{(0)}$ and $\mSet^{(1)}$ are naturally equivalent to $\Set$ and $\sSet$ respectively.
The representable $k$-fold multisimplicial sets are denoted by
\[
\simplex^{n_1,\dots,n_k} =
\yoneda \big([n_1]\times\dots\times[n_k]\big)
\]
and we have
\[
\simplex^{n_1,\dots,n_k} \big([m_1]\times\dots\times[m_k]\big) \cong
\simplex^{n_1}_{m_1}\times\dots\times\simplex^{n_k}_{m_k}.
\]
Explicitly, a $k$-fold multisimplicial set $X$ consists of a collection of sets
\[
X_{m_1,\dots,m_k} =
X \big( [m_1] \times\dots\times [m_k] \big)
\]
indexed by tuples of non-negative integers $(m_1,\dots,m_k)$ together with \textit{face maps}
\[
\face_i^j \colon
X_{m_1, \dots, m_j,\dots,m_k} \to
X_{m_1, \dots, m_j-1, \dots, m_k}
\]
and \textit{degeneracy map}
\[
\dege^j_i \colon X_{m_1, \dots, m_j,\dots,m_k} \to X_{m_1, \dots, m_j+1, \dots, m_k}
\]
for $1 \leq j \leq k$ and $0 \leq i \leq m_j$ such that, referring to $j$ as the \textit{direction} of these maps, two of them satisfy the simplicial identities when they have the same direction and commute when they do not.
An element of $X_{m_1,\dots,m_k}$ is called
$(m_1,\dots,m_k)$-\textit{multisimplex}.
A multisimplex is \textit{degenerate} if it is in the image of a degeneracy map.

\subsection{Geometric realization}

We will use the following model of the topological simplex:
\[
\gsimplex^n = \big\{
(t_1, \dots, t_n) \in [0,1]^n \mid t_1 \geq \dots \geq t_n
\big\}
\]
with
\[
\delta_i(t_1, \dots, t_n) =
\begin{cases}
	(1, t_1, \dots, t_n) & i = 0, \\
	(t_1, \dots, t_i, t_i, \dots, t_n) & 0 < i < n, \\
	(t_1, \dots, t_n, 0) & i = n,
\end{cases}
\]
and
\[
\sigma_i(t_1, \dots, t_n) = (t_1, \dots, \widehat t_i, \dots, t_n).
\]
The \textit{geometric realization} functor
\[
\bars{-} \colon \mSet \to \CW
\]
is defined as the Yoneda extension of the functor defined on representable objects by
\[
\bars{\simplex^{n_1,\dots,n_k}} =
\gmsimplex{n_1}{n_k}
\]
Explicitly,
\begin{align*}
	\bars{X} &=
	\colim_{\cramped{(\simplex^{n_1,\dots,n_k} \downarrow X})} \, \bars{\simplex^{n_1,\dots,n_k}} \\ &=
	\coprod X_{n_1,\dots,n_k} \times \gmsimplex{n_1}{n_k} /_\sim
\end{align*}
where
\[
\begin{split}
	(\dege_i^j(x), t_1, \dots, t_j, \dots, t_k) &\sim (x, t_1, \dots, \delta_i(t_j), \dots, t_k), \\
	(\dege^j_i(x), t_1, \dots, t_j, \dots, t_k) &\sim (x, t_1, \dots, \sigma_i(t_j), \dots, t_k).
\end{split}
\]
As expected, the restriction of the geometric realization functor to the subcategory of $1$-fold multisimplicial sets recovers the usual geometric realization of simplicial sets up to natural equivalence.

\anibal{singular complex, and Quillen equivalence}

\subsection{Multisimplicial chains}

The functor of \textit{chains}
\[
\chains \colon \mSet \to \Ch,
\]
also known as the \textit{algebraic realization} functor, is the Yoneda extension of the functor defined on representable objects by
\[
\chains \big( \simplex^{n_1, \dots, n_k} \big) =
\chains(\simplex^{n_1}) \ot \dotsb \ot \chains(\simplex^{n_k}).
\]
It is naturally isomorphic to the composition
\[
\chains \colon \mSet \xra{\bars{-}} \CW \xra{\gchains} \Ch
\]
of the geometric realization and functor of cellular chains.
The functor of \textit{cochains} is defined using linear duality.

Explicitly, for a $k$-fold multisimplicial set $X$ the $\k$-module $\chains(X)_n$ is freely generated by the non-degenerate $(n_1, \dots, n_k)$-multisimplices $x$ with $n_1+\dots+n_k = n$ and differential given by
\[
d(x) = \sum_{j=1}^k \sum_{\ell_j=1}^{n_j}
(-1)^{n_{1}+\dots+n_{j-1}+\ell_j} \, d^j_{\ell_j}(x).
\]

\begin{remark*}
	If we do not mod out by degenerate multisimplices the same formula defines the functor of \textit{non-normalized chains}.
	A slight generalization of the classical normalization theorem by MacLane \cite{MacLane} shows that the natural projection between these is a natural chain homotopy equivalence.
\end{remark*}

\subsection{Comparison with simplicial sets} \label{ss:diagonal simplicial set}

The composition with the diagonal functor
\[
\simplex^\op \xra{\diag}
(\simplex^\op)^{\times k} \xra{\cong}
(\simplex^{\times k})^{\op}
\]
defines a functor
\[
(-)^{\diag} \colon \mSet \to \sSet
\]
explicitly defined on a $k$-fold multisimplicial set $X$ by
\begin{gather*}
	X^{\diag}_m = X_{m, \dots, m},
	\qquad
	\face_i = \face_i^1 \circ \dots \circ \face_i^k,
	\qquad
	\dege_i = \dege_i^1 \circ \dots \circ \dege_i^k.
\end{gather*}
It is straightforward to verify that
\[
\big(\simplex^{n_1,\dots,n_k}\big)^\diag \cong
\msimplex{n_1}{n_k}
\]
as simplicial sets.

The functor $(-)^\diag \colon \mSet \to \sSet$ admits a right adjoint $\radj \colon \sSet \to \mSet$, defined, as usual, by the expression
\[
\radj(Y)_{m_1,\dots,m_k} =
\sSet\big( \simplex^{m_1} \times \dots \times \simplex^{m_k}, \, Y \big).
\]
\todo{We need a reference or a proof that they form a Quillen equivalence. This result is used for the zig-zag of $E_\infty$-q-iso. I would simply put a reference to the bisimplicial case in a remark like the one in the previous subsection, saying something similar.}

\subsection{Eilenberg--Zilber map}

Recall that an \textit{$(n_1,\dots,n_k)$-shuffle} $\sigma$ is a permutation in $\sym_n$ satisfying
\begin{gather*}
	\sigma(1) < \dots < \sigma(n_1), \\
	\sigma(n_1+1) < \dots < \sigma(n_1+n_2), \\
	\vdots \\
	\sigma(n-n_k-1) < \dots < \sigma(n),
\end{gather*}
where $n = n_1+\dots+n_k$.
We denote the set of such permutations by $\sh_{n_1,\dots,n_k}$.
For any $\sigma \in \sh_{n_1,\dots,n_k}$ the inclusion
\[
\gi_\sigma \colon \gsimplex^n \to \gmsimplex{n_1}{n_k}
\]
is defined by the assignment
\[
(x_1,\dots,x_n) \mapsto (x_{\sigma^{-1}(1)}, \dots, x_{\sigma^{-1}(n)}).
\]
If $e$ is the identity permutation, we denote $\gi_{e}$ simply as $\mathfrak{i}$.
The set $\set{\gi_\sigma \mid \sigma \in \sh_{n_1,\dots,n_k}}$ defines a triangulation of $\gmsimplex{n_1}{n_k}$ making it isomorphic in the category $\CW$ to the geometric realization of the simplicial set $\msimplex{n_1}{n_k}$.
Using this identification, the identity map induces a cellular map
\[
\ez \colon \gmsimplex{n_1}{n_k} \to \bars[\big]{\msimplex{n_1}{n_k}},
\]
whose induced chain map
\[
\EZ \colon \chains(\simplex^{n_1,\dots,n_k}) \to \chains\big(\msimplex{n_1}{n_k}\big),
\]
agrees, under the natural identifications, with the traditional Eilenberg--Zilber map.
For a multisimplicial set $X$, the induced chain map $\EZ \colon \chains(X) \to \chains(X^\diag)$ is defined on an $(n_1,\dots,n_k)$-multisimplex $x$ by
\[
\EZ(x) = \sum_{\sigma \in \sh_{n_1,\dots,n_k}} \sign(\sigma) \, X(\sigma_1 ,\dots, \sigma_k)(x) \todo{@Anibal: Use mathtools to fix display}
\]
%\[
%\EZ \big( [n_1] \times\dots\times [n_k] \big) =
%\sum_{\sigma \in \sh_{n_1,\dots,n_k}} \sign(\sigma) \, \sigma_1 \times\dots\times \sigma_k
%\]
where, for $\ell \in \set{1,\dots,k}$, the morphisms $\sigma_\ell \colon [n] \to [n_\ell]$ are defined by the following property: For
each $j \in \set{1,\dots,n}$ there is exactly one $\ell \in \set{1,\dots,k}$ such that $\sigma_\ell(j+1) = \sigma_\ell(j)+1$ and $\sigma_i(j+1) = \sigma_i(j)$ for all $i \neq \ell$.
\todo{This is off, unfortunately. @Andres could you please fix it?}

\subsection{Canonical inclusion}

Let $Y$ be a simplicial set and $n$ an integer.
Consider the function $Y_n \to \cU Y_{n,0,\dots,0}$ sending a simplex with characteristic map $\zeta \colon \simplex^n \to Y$ to the composition
\[
\simplex^n \times \msimplex{0}{0} \xra{\pi_1} \simplex^n \xra{\zeta_y} Y.
\]
These functions induce a chain map
\[
\In \colon \chains(Y) \to \chains(\cU Y)
\]
which we now prove is a quasi-isomorphism.